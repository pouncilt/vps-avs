Ext.Date.formatFunctions.fuzzy=function(){var b=new Date();var f=Math.round((b.getTime()-this.getTime())/1000);var d;var a=[["second",1],["minute",60],["hour",3600],["day",86400],["week",604800],["month",2592000],["year",31536000]];if(!f){d={unit:a[0][0],duration:a[0][1],count:0}}else{var g=0;var c=Math.abs(f);for(g=0;g<7;g++){if(c<a[g][1]*0.75){break}}var h=Math.round(c/a[g-1][1]);d={unit:a[g-1][0],duration:a[g-1][1],count:h}}var i=function(k,j,l){return Ext.String.format((Math.abs(l)==1?k:j),l)};var e;if(f<0){switch(d.unit){case"year":e=i("in {0} year","in {0} years",d.count);break;case"month":e=i("in {0} month","in {0} months",d.count);break;case"week":e=i("in {0} week","in {0} weeks",d.count);break;case"day":e=i("in {0} day","in {0} days",d.count);break;case"hour":e=i("in {0} hour","in {0} hours",d.count);break;case"minute":e=i("in {0} minute","in {0} minutes",d.count);break;case"second":e=i("in {0} second","in {0} seconds",d.count);break}}else{switch(d.unit){case"year":e=i("{0} year ago","{0} years ago",d.count);break;case"month":e=i("{0} month ago","{0} months ago",d.count);break;case"week":e=i("{0} week ago","{0} weeks ago",d.count);break;case"day":e=i("{0} day ago","{0} days ago",d.count);break;case"hour":e=i("{0} hour ago","{0} hours ago",d.count);break;case"minute":e=i("{0} minute ago","{0} minutes ago",d.count);break;case"second":e=i("{0} second ago","{0} seconds ago",d.count);break}}return e};